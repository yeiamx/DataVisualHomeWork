<html>  
<head>  
	<meta charset="utf-8">  
	<title>做一个简单的图表</title>  
</head> 
<script src="http://d3js.org/d3.v4.min.js" charset="utf-8"></script>
<body>
<div class="panel panel-default"  style="margin-top: 30px;">
    <div class="panel-heading">
        <strong  id="canvasTitle">SVG画布</strong>
    </div>
    <div class="panel-body" style="padding:0px;">
        <svg id="svgCanvas" width="100%" height="400">
        </svg>
    </div>
</div>
</body> 

  
<script>
	var data = [[30, 230], [130, 150],[230, 180], [330, 330], [430, 250], [530, 280], [630, 180], [680, 250]],
    canvas = d3.select('#svgCanvas'),   //  获取画布
    canvasTitle = d3.select('#canvasTitle'),    //  获取标题区域
    lineGenerator = d3.line()
                      .x(function(d) {
                            return d[0]
                        })
                      .y(function(d) {
                            return d[1];
                       });
//  获取颜色组合
var colors = d3.schemeCategory20,
    len = colors.length,
    //  获取相关的曲线工厂
    curves = ['curveBasis', 'curveBasisClosed', 'curveBasisOpen', 'curveBundle', 'curveCardinal','curveCardinalClosed', 'curveCardinalOpen', 'curveCatmullRom', 'curveCatmullRomClosed','curveCatmullRomOpen', 'curveLinear','curveLinearClosed', 'curveMonotoneX', 'curveMonotoneY',
             'curveNatural', 'curveStep', 'curveStepAfter', 'curveStepBefore'];
//  添加折线，用于比较
canvas.append('path')
        .attr('stroke', '#ccc')
        .attr('stroke-width', '2')
        .attr('fill', 'none')
        .attr('d', lineGenerator(data));
//  创建曲线函数
function createLine(color, lineData, time, title) {
    setTimeout(function() {
        canvasTitle.text(title);
        canvas.selectAll('path.curve').remove();
        canvas.append('path')
                .classed('curve', true)
                .attr('stroke', color)
                .attr('stroke-width', '2')
                .attr('fill', 'none')
                .attr('d', lineData);
    }, time);
}
//  依次播放曲线的添加动画 
for(var i = 0; i < curves.length; i++) {
    var lines = lineGenerator.curve(d3[curves[i]])(data)
    createLine(colors[i], lines, 3000 * i, curves[i]);
}
</script>  
	
 
</html>  